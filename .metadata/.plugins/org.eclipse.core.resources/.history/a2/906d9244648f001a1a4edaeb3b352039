package com.sist.spring;
import java.util.*;
import java.sql.*;

/*  <순서>
 *  1. MyBasicDataSource 메모리 할당 요청 
 *  2. MyBasicDataSource가 가지고 있는 Setter에 값을 채운다
 *  3. EmpDAO(MyBasicDataSource) 
 * 
 */
public class EmpDAO {
	private MyBasicDataSource ds;
	public EmpDAO(MyBasicDataSource ds)
	{
		this.ds=ds;
		try 
		{
			Class.forName(ds.getDriverClassName());
		} catch (Exception ex) {}
	}
	
	private Connection conn;
	private PreparedStatement ps;
	
	public void getConnection()
	{
		try 
		{
			conn=DriverManager.getConnection(ds.getUrl(),ds.getUserName(),ds.getPassword());
		} catch (Exception ex) {}
	}
	
	public void disConnection()
	{
		try 
		{
			if(ps!=null)
				ps.close();
			if(conn!=null)
				conn.close();
		} catch (Exception ex) {}
	}

	
}
