package com.sist.dao;

import java.util.*;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;
import org.apache.ibatis.annotations.Select;

//데이터 매칭 - 이전에 join걸 때 ResultMap 쓰는 것 처럼.
// setEmpno(rs.getInt("empno"))
// dvo.dname => getDvo().setDname(rs.getString("dname"));
public interface EmpMapper {
	
	@Results({
		@Result(property="empno",column="empno"),
		@Result(property="ename",column="ename"),
		@Result(property="job",column="job"),
		@Result(property="mgr",column="mgr"),
		@Result(property="hiredate",column="hiredate"),
		@Result(property="sal",column="sal"),
		@Result(property="comm",column="comm"),
		@Result(property="deptno",column="deptno"),
		@Result(property="dvo.dname",column="dname"), // ★★★
		@Result(property="dvo.loc",column="loc") // ★★★
	})
	@Select("SELECT empno,ename,job,hiredate,sal,dname,loc,comm "
			+ "FROM emp,dept "
			+ "WHERE emp.deptno=dept.deptno "
			+ "ORDER BY sal DESC")
	public List<EmpVO> empALlData();
	
	
	@Select("SELECT DISTINCT mgr FROM emp")
	public List<Integer> empGetMgr();
	
	@Select("SELECT DISTINCT job ")
	
	
	
}





